<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>View 0</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <style>
      .error {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Funds Transfer</h1>
      <form
        class="col-lg-6"
        method="POST"
        action="#"
        data-th-action="@{/transfer}"
        data-th-object="${transferRequest}"
      >
        <table class="table table-hover table-borderless">
          <tr class="my-3">
            <td class="form-label text-end">From account:</td>
            <td>
              <select class="form-select" data-th-field="*{from}">
                <option value=""></option>
                <!-- for (Account acc : accountList) {} -->
                <option
                  data-th-each="acc : ${accounts}"
                  data-th-value="${acc.accountId}"
                  data-th-text="${acc.firstName} + ' (' + ${acc.accountId} + ')'"
                ></option>
              </select>
            </td>
          </tr>
          <tr class="my-3">
            <td class="form-label text-end">To account:</td>
            <td>
              <select class="form-select" data-th-field="*{to}">
                <option value=""></option>
                <option
                  data-th-each="acc : ${accounts}"
                  data-th-value="${acc.accountId}"
                  data-th-text="${acc.firstName} + ' (' + ${acc.accountId} + ')'"
                ></option>
              </select>
            </td>
          </tr>
          <tr>
            <td class="form-label text-end">Amount:</td>
            <td>
              <input
                data-th-field="*{amount}"
                class="form-control"
                type="number"
                step="0.01"
              />
            </td>
          </tr>
          <tr>
            <td class="form-label text-end">Comments:</td>
            <td>
              <textarea
                data-th-field="*{comments}"
                class="form-control"
                cols="20"
                rows="5"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td></td>
            <td colspan="1">
              <button
                class="align-self-end btn btn-outline-danger"
                type="submit"
              >
                Transfer
              </button>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <ul class="error" data-th-if="${#fields.hasAnyErrors()}">
                <li
                  data-th-each="err : ${#fields.allErrors()}"
                  data-th-text="${err}"
                ></li>
              </ul>
            </td>
          </tr>
        </table>
      </form>
    </div>
  </body>
</html>
